r <- glmer(foundation~treat+(1|colony/ID), family="binomial", data=d.foundation)
library(lme4)
library(car)
r <- glmer(foundation~treat+(1|colony/ID), family="binomial", data=d.foundation)
Anova(r)
r <- glmer(foundation~treat+(1|colony/ID), family="binomial", data=d.foundation)
d.foundation
r <- glmer(foundation~treat+(1|colony), family="binomial", data=d.foundation)
Anova(r)
ggplot(d.foundation, aes(x=offspring, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation, aes(x=offspring, y=foundation, fill=treat)) +
geom_point()
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_point()
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
library(cowplot)
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
library(readr)
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
?geom_flat_violin
??geom_flat_violin
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
install.packages( c( "dplyr", "ggplot2", "plyr" ) )
install.packages(c("dplyr", "ggplot2", "plyr"))
install.packages(c("dplyr", "ggplot2", "plyr"))
#------------------------------------------------------------------------------#
{
library(data.table)
library(lme4)
library(car)
library(ggplot2)
library(viridis)
}
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
source( './geom_flat_violin.R' )
library(PupillometryR)
install.packages('PupillometryR')
library(PupillometryR)
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
ggplot(d.foundation, aes(y=treat, x=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation, aes(y=treat, x=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
ggplot(d.foundation, aes(y=treat, x=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(y=.25,x=0),adjust =2,trim=TRUE)
ggplot(d.foundation, aes(y=treat, x=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(y=.25,x=0),adjust =2,trim=TRUE)
ggplot(d.foundation, aes(y=treat, x=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(y=.25,x=0))
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25)
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offsprint))
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring))
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Score')+xlab('Group')+
coord_flip()+
theme_cowplot()+
guides(fill= FALSE, colour=FALSE)+
scale_colour_brewer(palette="Dark2")+
scale_fill_brewer(palette="Dark2")+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation, aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
d.foundation
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25)
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring)
)
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.factor(treat)+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_cowplot()+
guides(fill= FALSE, colour=FALSE)+
scale_colour_brewer(palette="Dark2")+
scale_fill_brewer(palette="Dark2")+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5)
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .15), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .1), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.25) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.25,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.25, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.2,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.1, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.2,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.2, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation, aes(x=treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation, aes(x=treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
coord_flip()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =1,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation, aes(x=-treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
coord_flip()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
#table(d.foundation[,c("treat", "foundation")])
d.foundation <- transform(d.foundation, treat= factor(treat, levels = c("3day", "0day")))
ggplot(d.foundation, aes(x=treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
coord_flip()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation, aes(x=treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5, direction = -1) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
coord_flip()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=1, y=0.5, label = "40/45")) +
geom_text(aes(x=2, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5, direction = -1) +
scale_y_continuous(limits=c(0,30))
ggplot(d.foundation, aes(x=treat, y=foundation, fill=treat)) +
stat_summary(fun = "mean", geom = "bar") +
scale_fill_viridis(discrete = T, alpha=0.5, direction = -1) +
scale_y_continuous(limits=c(0,1)) +
theme_classic()+
coord_flip()+
xlab("")+ylab("Prop of colony foundation success")+
geom_text(aes(x=2, y=0.5, label = "40/45")) +
geom_text(aes(x=1, y=0.5, label = "28/39"))
ggplot(d.foundation[d.foundation$foundation==1,], aes(x=treat, y=offspring, fill=treat)) +
geom_flat_violin(position=position_nudge(x=.15,y=0),adjust =2,trim=TRUE)+
geom_point(position = position_jitter(width = .05), size=.4) +
geom_boxplot(aes(x=as.numeric(as.factor(treat))+0.15, y=offspring),
outlier.shape=NA, alpha=0.3, width=.1, colour="BLACK")+
ylab('Num offsprings')+xlab('')+
coord_flip()+
theme_classic()+
scale_fill_viridis(discrete = T, alpha=0.5, direction = -1) +
scale_y_continuous(limits=c(0,30))
r <- glmer(offspring~treat+(1|colony), family="poisson", data=d.foundation[d.foundation$foundation>0,])
Anova(r)
r <- glmer(foundation~treat+(1|colony), family="binomial", data=d.foundation)
Anova(r)
r <- glmer(offspring~treat+(1|colony), family="poisson", data=d.foundation[d.foundation$foundation>0,])
Anova(r)
f.namesplace <- list.files("data/raw/ANTAM_4day", pattern=".csv",full.names=T)
f.namesplace
i_files = 1
d <- data.frame(fread(f.namesplace[i_files], header=T))
library(data.table)
d <- data.frame(fread(f.namesplace[i_files], header=T))
d
d <- data.frame(fread(f.namesplace[i_files], header=F))
d
d <- data.frame(fread(f.namesplace[i_files], header=F))[,c(6,4,5)]
d
d
col.names(d) = c("time", "x", "y")
colnames(d) = c("time", "x", "y")
d
f.names <- list.files("data/raw/ANTAM_4day", pattern=".csv",full.names=F)
f.names[i_files]
library(stringr)
f.names[i_files]
str_split(f.names[i_files], "_")
str_split(f.names[i_files], "_")[[1]]
str_split(f.names[i_files], "_")[1]
str_split(f.names[i_files], "_")[1][1]
str_split(f.names[i_files], "_")[[1][1]
str_split(f.names[i_files], "_")[[1]][1]
str_split(f.names[i_files], "_")[[1]][2]
species <- str_split(f.names[i_files], "_")[[1]][2]
species <- str_split(f.names[i_files], "_")[[1]][3]
f.namesplace <- list.files("data/raw/ANTAM_4day", pattern=".csv",full.names=T)
f.names <- list.files("data/raw/ANTAM_4day", pattern=".csv",full.names=F)
d <- data.frame(fread(f.namesplace[i_files], header=F))[,c(6,4,5)]
colnames(d) = c("time", "x", "y")
str_split(f.names[i_files], "_")[[1]][2]
str_split(f.names[i_files], "_")
str_split(f.names[i_files], "_")[[1]][6]
str_sub(str_split(f.names[i_files], "_")[[1]][6], 1, 1)
as.numeric(str_sub(str_split(f.names[i_files], "_")[[1]][6], 1, 1))-1
str_split(f.names[i_files], ".")[[1]][1]
str_split(f.names[i_files], ".")[[1]]
f.names[i_files]
str_split(f.names[i_files], ".c")[[1]][1]
d[1, 1:3]
d[, 1:3]
d[,2:3] <-d[,2:3] * 0.023725 # scale
d <- data.frame(fread(f.namesplace[i_files], header=F))[,c(6,4,5)]
colnames(d) = c("time", "x", "y")
colony <- str_split(f.names[i_files], "_")[[1]][3]
sex <- str_split(f.names[i_files], "_")[[1]][4]
day <- as.numeric(str_sub(str_split(f.names[i_files], "_")[[1]][6], 1, 1))-1
id <- str_split(f.names[i_files], ".c")[[1]][1]
d[,2:3] <-d[,2:3] * 0.023725 # scale
d <- (d[d$time>60*5,])  # remove first 5 min data
d[1, 1:3]
d[, 1:3] <- d[, 1:3] - d[1, 1:3]
d[, 1:3]
d[1, 1:3]
d[, 1:3] - d[1, 1:3]
d <- data.frame(fread(f.namesplace[i_files], header=F))[,c(6,4,5)]
colnames(d) = c("time", "x", "y")
colony <- str_split(f.names[i_files], "_")[[1]][3]
sex <- str_split(f.names[i_files], "_")[[1]][4]
day <- as.numeric(str_sub(str_split(f.names[i_files], "_")[[1]][6], 1, 1))-1
id <- str_split(f.names[i_files], ".c")[[1]][1]
d[,2:3] <-d[,2:3] * 0.023725 # scale
d <- (d[d$time>60*5,])  # remove first 5 min data
d[,1] <- d[,1] - d[1,1]
d[,2] <- d[,2] - d[1,2]
d[,3] <- d[,3] - d[1,3]
d
#
diff(d$x)
#
sqrt( diff(d$x)^2 + diff(d$y)^2 )
#
dis <- c(0, sqrt( diff(d$x)^2 + diff(d$y)^2 ))
seq(floor(sum(dis)/1000)*1000/1000, floor(sum(dis)/1000)*1000/10,length=100)
sum(dis)
sum(dis)/1000
#
sl <- c(0, sqrt( diff(d$x)^2 + diff(d$y)^2 ))
#
step_length <- c(0, sqrt( diff(d$x)^2 + diff(d$y)^2 ))
diffusion_dis <- sqrt(d$x^2 + d$y^2)
cum_travel_dis <- cumsum(step_length)
step_length
cum_travel_dis
plot(cum_travel_dis, diffusion_dis)
plot(cum_travel_dis, diffusion_dis, log="xy")
msd2 <- log10(diffusion_dis)
tau2 <- log10(cum_travel_dis)
r <- lm(msd2~tau2)
tau2
msd2
head(d)
head(msd2)
head(diffusion_dis)
log10(diffusion_dis)[-1]
msd2 <- log10(diffusion_dis)[-1]
tau2 <- log10(cum_travel_dis)[-1]
r <- lm(msd2~tau2)
r
10^r$coef[1]
r$coef[2]
d
diff(d$time)
hist(diff(d$time))
truehist(diff(d$time))
library(MASS)
truehist(diff(d$time))
dim(d)
tail(d)
1660/30
1660/60
25/60
25*60
seq(0, 1500, 0.2)
new.x = new.y = new.time
new.time = seq(0, 1500, 0.2)
new.x = new.y = new.time
new.time[2]
d[2,1]
d$time
